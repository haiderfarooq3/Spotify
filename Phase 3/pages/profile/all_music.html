{% extends "base.html" %}

{% block title %}All Music{% endblock %}

{% block content %}
<h1>All Music</h1>
<div class="music-grid">
    {% for audio in audio_files %}
        <div class="music-item">
            <a href="{{ url_for('get_audio', filename=audio) }}">{{ audio }}</a>
            <audio controls>
                <source src="{{ url_for('get_audio', filename=audio) }}" type="audio/mpeg">
                Your browser does not support the audio element.
            </audio>
            <form action="{{ url_for('add_music') }}" method="post" style="margin-top: 10px;">
                <input type="hidden" name="song" value="{{ audio }}">
                <input type="hidden" name="user_email" value="{{ session['user_email'] }}">
                <button type="submit">Add to Your Music</button>
            </form>
        </div>
    {% endfor %}
</div>
{% endblock %}
